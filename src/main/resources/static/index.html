<html>
<head>
	<meta charset="utf-8">

</head>
<body>
<h2>Javascript SoftPhone</h2>
<!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="./frame/jsphone/css/web-phone.css" crossorigin="anonymous">


<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js.map"></script>
<script type="text/javascript" src="./frame/jsphone/lib/jquery-3.2.1.min.js"></script>
<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script type="text/javascript" src="./frame/jsphone/web-phone.js"></script>

<div id="phoneContainer"></div>


<!-- Small modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bs-example-modal-sm">Small modal</button>

<div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
	<div class="modal-dialog modal-sm" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title" id="gridSystemModalLabel">Modal title</h4>
			</div>
			<div class="modal-body">
				<div class="row" style="height: 30px;">
					<div class="col-md-4">
						<p class="text-center">1</p>
					</div>
					<div class="col-md-4">
						<p class="text-center">2</p>
					</div>
					<div class="col-md-4">
						<p class="text-center">3</p>
					</div>
				</div>
				<div class="row" style="height: 30px;">
					<div class="col-md-4 text-center">4</div>
					<div class="col-md-4 text-center">5</div>
					<div class="col-md-4 text-center">6</div>
				</div>
				<div class="row" style="height: 30px;">
					<div class="col-md-4">
						<p class="text-center">7</p>
					</div>
					<div class="col-md-4">
						<p class="text-center">8</p>
					</div>
					<div class="col-md-4">
						<p class="text-center">9</p>
					</div>
				</div>
				<div class="row ">
					<div class="col-md-12" style="background-color: rebeccapurple">

						<a class="dial  center-block" data-dismiss="modal"></a>

						<a class="text-center" data-dismiss="modal">拨打</a>
					</div>

				</div>

			</div>
		</div>
	</div>
</div>

<table style="width:700px;height:32px;border-collapse: collapse;border:1px solid black;margin-top:40px;font-size: 13px" >
<tr>
	<td>
		工号：<input type="text" 	 name="agentId"   id="agentId"  value="test2" style="width:80px;" onchange='$("#password")[0].value=this.value;'>
		密码：<input type="password" name="password"  id="password"  value="test2" style="width:80px;">
		分机：<input type="text" 	 name="station" id="station" value="12292" style="width:80px;" maxlength="18">
        <input type="button" class="connect" value="连接" onclick="connect();" >
		<input type="button" id="logon" class="logon" value="签入" >
		<input type="button" id="logoff" class="logout" value="签出" >
	</td>
</tr>
</table>


<script type="text/javascript">


    function connect() {
        let option = {
            socketIp:'192.168.1.124:9092',
            isLogon:false,
            agent: {
                agentId: $("#agentId").val(),
                password: $("#password").val(),
                station: $("#station").val(),
                skill:[]
            },
            user: {
                userId:'',
                userName:'',
                organId:'',
                organName:''
            },
            platform:{
                type:'aspect',
                portal:''
            }

        };

        var _phone = new $.Phone('#phoneContainer',option, function(val,va2){console.info(val,va2);});
    }



</script>

</body>
</html>
